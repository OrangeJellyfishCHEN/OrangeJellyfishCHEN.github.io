<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Leetcode: Push Dominoes | The Blog of Yvonne</title><meta name="keywords" content="leetcode"><meta name="author" content="Yvonne Chen"><meta name="copyright" content="Yvonne Chen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="cr: https:&#x2F;&#x2F;leetcode-cn.com&#x2F;problems&#x2F;push-dominoes&#x2F; There are n dominoes in a line, and we place each domino vertically upright. In the beginning, we simultaneously push some of the dominoes either to">
<meta property="og:type" content="article">
<meta property="og:title" content="Leetcode: Push Dominoes">
<meta property="og:url" content="http://example.com/2022/02/22/Leetcode-Push-Dominoes/index.html">
<meta property="og:site_name" content="The Blog of Yvonne">
<meta property="og:description" content="cr: https:&#x2F;&#x2F;leetcode-cn.com&#x2F;problems&#x2F;push-dominoes&#x2F; There are n dominoes in a line, and we place each domino vertically upright. In the beginning, we simultaneously push some of the dominoes either to">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/image/background.png">
<meta property="article:published_time" content="2022-02-22T08:22:37.000Z">
<meta property="article:modified_time" content="2022-02-22T11:51:55.135Z">
<meta property="article:author" content="Yvonne Chen">
<meta property="article:tag" content="leetcode">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/image/background.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/02/22/Leetcode-Push-Dominoes/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Leetcode: Push Dominoes',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-22 22:51:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/image/duck.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">6</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a></div></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/image/background.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">The Blog of Yvonne</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Leetcode: Push Dominoes</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-02-22T08:22:37.000Z" title="Created 2022-02-22 19:22:37">2022-02-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-02-22T11:51:55.135Z" title="Updated 2022-02-22 22:51:55">2022-02-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Leetcode: Push Dominoes"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>cr: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/push-dominoes/">https://leetcode-cn.com/problems/push-dominoes/</a></p>
<p>There are <strong>n</strong> dominoes in a line, and we place each domino vertically upright. In the beginning, we simultaneously push some of the dominoes either to the left or to the right.</p>
<p>After each second, each domino that is falling to the left pushes the adjacent domino on the left. Similarly, the dominoes falling to the right push their adjacent dominoes standing on the right.</p>
<p>When a vertical domino has dominoes falling on it from both sides, it stays still due to the balance of the forces.</p>
<p>For the purposes of this question, we will consider that a falling domino expends no additional force to a falling or already fallen domino.</p>
<p>You are given a string <strong>dominoes</strong> representing the initial state where:</p>
<ol>
<li>dominoes[i] = ‘L’, if the ith domino has been pushed to the left,</li>
<li>dominoes[i] = ‘R’, if the ith domino has been pushed to the right, and</li>
<li>dominoes[i] = ‘.’, if the ith domino has not been pushed.</li>
<li>Return a string representing the final state.</li>
</ol>
<hr>
<ul>
<li><p>Example1:</p>
<p>Input: dominoes = “RR.L”<br>Output: “RR.L”<br>Explanation: The first domino expends no additional force on the second domino.</p>
</li>
<li><p>Example2:</p>
<p>Input: dominoes = “.L.R…LR..L..”<br>Output: “LL.RR.LLRRLL..”</p>
</li>
</ul>
<h1 id="Analyse"><a href="#Analyse" class="headerlink" title="Analyse"></a>Analyse</h1><p>This solution is made by Fuxuemingzhu(2022), and here is my understanding about his/her solution.</p>
<p>According to “we will consider that a falling domino expends no additional force to a falling or already fallen domino”, we could know that only dominoes which are not been pushed in the initial statement could be pushed.</p>
<p>Here is a trick! Very Important! If there is a list of “.” and the dominoes at right and left could affect this list of “.”. Here are four circumstance :</p>
<ul>
<li>When here is L …….. L or R ……. R → Then all “.” will convert to equal to the left and right dominoes.</li>
<li>When here is L …… R → all “.” have no change.</li>
<li>When here is R……L → half of the dominoes are R and another half of the dominoes are L. If the length of the list of “.” is not even, then the middle domino of the list should have no change.</li>
</ul>
<p>Another circumstance(which is so specific) we can make it general, which is input like “……L……..R……”, We can add “L” and “R” to every input’s two sides. For example, “……L……..R……” should convert to “L……L……..R……R”. And remember not to add those two into the output.</p>
<p>In summary, this question could be solved by the following process:</p>
<ol>
<li>Add “L” to the start of the input and add “R” to the end of the input.</li>
<li>Initialize the left pointer with value 0. Create the result list.</li>
<li>Traverse the whole input string and find the list of “.” with the right pointer:<ol>
<li>if the current character is equal to “.” the right pointer move, otherwise the right pointer stop</li>
<li>According to the aforementioned, change the list of “.” and add it to the res.</li>
<li>update the left pointer to equal to the right one.</li>
</ol>
</li>
<li>Return the output string combined with the result list.</li>
</ol>
<h1 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pushDominoes</span>(<span class="params">self, dominoes</span>):</span></span><br><span class="line">        dominoes = <span class="string">&quot;L&quot;</span> + dominoes + <span class="string">&quot;R&quot;</span></span><br><span class="line">        l = <span class="number">0</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(dominoes)):</span><br><span class="line">            <span class="comment"># 当r遇到的是“.”时直接跳过就好 右端指针右移</span></span><br><span class="line">						<span class="comment"># if the current character is equal to “.” the right pointer move, otherwise the right pointer stop</span></span><br><span class="line">            <span class="keyword">if</span> dominoes[r] == <span class="string">&quot;.&quot;</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            mid = r - l - <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> l:</span><br><span class="line">                res.append(dominoes[l])</span><br><span class="line">            <span class="comment"># 判断左右指针情况 然后进行不同的输入</span></span><br><span class="line">						<span class="comment"># Define left and right pointers circumstances and add different results to the result list</span></span><br><span class="line">            <span class="keyword">if</span> dominoes[l] == dominoes[r]:</span><br><span class="line">                res.append(dominoes[l] * mid)</span><br><span class="line">            <span class="keyword">elif</span> dominoes[l] == <span class="string">&quot;L&quot;</span> <span class="keyword">and</span> dominoes[r] == <span class="string">&quot;R&quot;</span>:</span><br><span class="line">                res.append(<span class="string">&quot;.&quot;</span>* mid)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res.append(<span class="string">&quot;R&quot;</span> * (mid // <span class="number">2</span>) + <span class="string">&quot;.&quot;</span> * (mid % <span class="number">2</span>) + <span class="string">&quot;L&quot;</span> * (mid // <span class="number">2</span>))</span><br><span class="line">            <span class="comment"># 更新左指针与右指针位置一致</span></span><br><span class="line">						<span class="comment"># update the left pointer to equal to the right one.</span></span><br><span class="line">            l = r</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join(res)</span><br></pre></td></tr></table></figure>

<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol>
<li>Fumingxuezhu. (2022). Understand in seconds series: detailed ideas, clear diagrams. Retrieved from <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/push-dominoes/solution/fu-xue-ming-zhu-miao-dong-xi-lie-xiang-x-xkts/">https://leetcode-cn.com/problems/push-dominoes/solution/fu-xue-ming-zhu-miao-dong-xi-lie-xiang-x-xkts/</a>.</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Yvonne Chen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/2022/02/22/Leetcode-Push-Dominoes/">http://example.com/2022/02/22/Leetcode-Push-Dominoes/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/leetcode/">leetcode</a></div><div class="post_share"><div class="social-share" data-image="/image/background.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/02/22/Useful-website-for-building-hexo/"><img class="prev-cover" src="/image/background.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Useful website for building hexo</div></div></a></div><div class="next-post pull-right"><a href="/2021/07/30/Happy-birthday-to-myself/"><img class="next-cover" src="/image/background.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Happy birthday to myself!</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/03/02/Leetcode-Copy-List-with-Random-Pointer/" title="Leetcode: Copy List with Random Pointer"><img class="cover" src="/image/background.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-02</div><div class="title">Leetcode: Copy List with Random Pointer</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/image/duck.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Yvonne Chen</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">6</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/OrangeJellyfishCHEN"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my blog. Wish everyone who visits this blog can have less bug and more hair in this year ~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Analyse"><span class="toc-number">1.</span> <span class="toc-text">Analyse</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Source-Code"><span class="toc-number">2.</span> <span class="toc-text">Source Code</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reference"><span class="toc-number">3.</span> <span class="toc-text">Reference</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/31/Projects-to-do/" title="Projects to do"><img src="/image/background.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Projects to do"/></a><div class="content"><a class="title" href="/2022/12/31/Projects-to-do/" title="Projects to do">Projects to do</a><time datetime="2022-12-31T01:00:00.000Z" title="Created 2022-12-31 12:00:00">2022-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/31/Review-for-2022/" title="Review for 2022"><img src="/image/background.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Review for 2022"/></a><div class="content"><a class="title" href="/2022/12/31/Review-for-2022/" title="Review for 2022">Review for 2022</a><time datetime="2022-12-31T01:00:00.000Z" title="Created 2022-12-31 12:00:00">2022-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/02/Leetcode-Copy-List-with-Random-Pointer/" title="Leetcode: Copy List with Random Pointer"><img src="/image/background.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Leetcode: Copy List with Random Pointer"/></a><div class="content"><a class="title" href="/2022/03/02/Leetcode-Copy-List-with-Random-Pointer/" title="Leetcode: Copy List with Random Pointer">Leetcode: Copy List with Random Pointer</a><time datetime="2022-03-02T11:10:21.000Z" title="Created 2022-03-02 22:10:21">2022-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/22/Useful-website-for-building-hexo/" title="Useful website for building hexo"><img src="/image/background.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Useful website for building hexo"/></a><div class="content"><a class="title" href="/2022/02/22/Useful-website-for-building-hexo/" title="Useful website for building hexo">Useful website for building hexo</a><time datetime="2022-02-22T11:26:37.000Z" title="Created 2022-02-22 22:26:37">2022-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/22/Leetcode-Push-Dominoes/" title="Leetcode: Push Dominoes"><img src="/image/background.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Leetcode: Push Dominoes"/></a><div class="content"><a class="title" href="/2022/02/22/Leetcode-Push-Dominoes/" title="Leetcode: Push Dominoes">Leetcode: Push Dominoes</a><time datetime="2022-02-22T08:22:37.000Z" title="Created 2022-02-22 19:22:37">2022-02-22</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Yvonne Chen</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>